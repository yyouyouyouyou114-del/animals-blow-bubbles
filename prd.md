# PRD: 《宝宝泡泡乐园》吹泡泡游戏

## 1. 文档概述

| 项目 | 描述 |
| :--- | :--- |
| **产品名称** | 宝宝泡泡乐园 |
| **产品版本** | 1.0 |
| **目标用户** | 2-4岁幼儿（核心为3岁） |
| **文档目的** | 定义游戏的核心功能、设计规范与开发需求，作为项目开发的基准。 |
| **最后更新** | 2025-09-28 |

## 2. 产品简介

《宝宝泡泡乐园》是一款专为低龄幼儿设计的触摸式互动游戏。游戏通过极简的操作（触摸屏幕），让宝宝控制不同的小动物吹出各式各样的泡泡，并在戳破泡泡时获得丰富的视听反馈。游戏旨在为幼儿提供一个安全、愉悦、充满鼓励的数字化感官探索体验，促进其因果认知和手眼协调能力的发展。

## 3. 目标用户画像与使用场景

### 3.1 核心用户image.png
*   **主要用户**：2-4岁幼儿（核心为3岁）
*   **辅助用户**：家长（负责分享和协助）

### 3.2 用户特征
*   **幼儿特征**：
    *   处于感官探索和基础因果认知阶段
    *   手眼协调能力仍在发展，无法进行复杂操作
    *   注意力持续时间短，容易被鲜艳的色彩和有趣的声音吸引
    *   需要持续的正向鼓励
*   **家长特征**：
    *   主要通过微信等社交平台分享给孩子
    *   关注内容安全性，希望无广告无付费
    *   期望孩子能独立游戏，减少对设备操作的依赖

### 3.3 典型使用场景
*   **家庭场景**：
    1. 家长在微信群或朋友圈看到游戏分享
    2. 点击链接预览，确认适合自己孩子
    3. 转发给孩子或在孩子面前打开
    4. 引导孩子将手机横过来获得最佳体验
    5. 孩子独立游戏，家长偶尔协助
*   **外出场景**：
    *   候车、就餐等需要安静娱乐的场合
    *   通过微信快速打开，无需下载安装
    *   手机横屏提供平板般的游戏体验

### 3.4 核心需求
*   **幼儿需求**：
    *   通过简单互动获得即时、有趣的反馈
    *   在无失败压力的环境中自由探索
    *   接触可爱、友好的角色和画面
*   **家长需求**：
    *   便捷的分享和访问方式
    *   安全可靠的内容环境
    *   适合移动设备的操作体验

## 4. 核心功能需求

### 4.1. 场景系统

游戏包含三个独立的、可切换的主题场景。

| 场景名称 | 视觉风格 | 氛围与背景元素 |
| :--- | :--- | :--- |
| **阳光草地** | 明亮、温暖、高饱和度 | 蓝天、白云、绿色的山坡、小野花、温和的太阳 |
| **海底世界** | 宁静、蔚蓝、有流动感 | 深浅不一的蓝色海水、摇曳的水草、珊瑚礁、缓慢游动的小鱼群影子 |
| **夜晚星空** | 静谧、梦幻、有发光元素 | 深蓝色夜空、弯月、闪烁的星星、萤火虫光点 |

#### 4.1.1 场景切换机制
- 用户可通过设置界面或主界面的场景选择器切换场景
- 场景切换时播放平滑的过渡动画（如淡入淡出效果）
- 每个场景的背景音乐和环境音效独立管理

### 4.2. 角色与交互系统

**核心原则：单角色在场**
*   游戏主场景中，同一时间**只出现一只动物**作为可交互角色。
*   动物角色通过屏幕底部的"动物选择栏"进行切换。

**角色设计明细：**

**场景一：阳光草地**
| 角色 | 泡泡特性 | 戳破反馈（视觉） | 戳破反馈（音效） |
| :--- | :--- | :--- | :--- |
| 小熊 | 大大的圆形泡泡 | 变成一朵小雏菊 | 憨厚的"噗"声 |
| 小兔 | 一串（3-5个）小泡泡 | 变成几根胡萝卜条 | 轻快的"啵啵啵"声 |
| 小青蛙 | 绿色的、跳动式上升的泡泡 | 变成一片小荷叶 | "呱呱"的叫声 |

**场景二：海底世界**
| 角色 | 泡泡特性 | 戳破反馈（视觉） | 戳破反馈（音效） |
| :--- | :--- | :--- | :--- |
| 小丑鱼 | 标准的圆形水泡，直线上升 | 变成一个小海星 | "咕噜咕噜"的水泡声 |
| 海豚 | 一道弧形的泡泡链 | 变成一个小贝壳 | 短促悦耳的海豚音 |
| 章鱼 | 一次吹出多个（约6个）小泡泡，呈扇形散开 | 变成一团可爱的（卡通化）小墨滴 | "噗咻"的喷发声 |

**场景三：夜晚星空**
| 角色 | 泡泡特性 | 戳破反馈（视觉） | 戳破反馈（音效） |
| :--- | :--- | :--- | :--- |
| 小猫头鹰 | 闪着微光的泡泡，像小月亮 | 变成一颗小星星 | "咕咕"的猫头鹰叫声 |
| 小狐狸 | 橙色的、拖着细小光尾的泡泡 | 变成一朵发光的萤火虫 | 轻柔的"嗷呜"声 |
| 小浣熊 | 银色的泡泡，像小卫星一样绕圈上升 | 变成一颗小坚果 | 窸窸窣窣的摩擦声 |

#### 4.2.1 角色动画状态
每个动物角色需要包含以下动画状态：
- **待机动画**：循环播放的呼吸、眨眼等微动作
- **吹泡泡动画**：触摸屏幕时的动作反馈
- **入场动画**：切换到该角色时的欢迎动作
- **退场动画**：切换到其他角色时的告别动作

### 4.3. 交互逻辑

#### 4.3.1 主要交互流程
1.  **吹泡泡**：用户在游戏主场景的**任意位置**触摸屏幕，当前选中的动物即吹出对应的泡泡。
    - 触摸点作为泡泡生成的起始位置
    - 泡泡生成后按照预设轨迹飘动
    - 支持多点触控，可同时生成多个泡泡

2.  **戳泡泡**：用户用手指**直接触碰**屏幕上飘动的泡泡，泡泡立即破裂并触发对应的视觉和音效反馈。
    - 触碰检测区域略大于泡泡视觉大小，便于幼儿操作
    - 破裂效果包含粒子动画和声音反馈
    - 破裂后的视觉元素会保留1-2秒后淡出

3.  **切换动物**：用户点击**底部动物选择栏**中的动物图标。
    *   **视觉反馈**：被点击的图标有放大/发光效果。主场景中的动物会有一个欢快的退场动画，新选择的动物有一个可爱的入场动画。
    *   **音效反馈**：伴随切换，播放一个轻快的"切换"音效。

#### 4.3.2 泡泡动画特性
- **生命周期**：泡泡自动消失时间为10-15秒
- **移动轨迹**：预设的动画路径，缓慢上升并带有轻微的左右摆动
- **动画实现**：使用CSS动画或Canvas动画，简单的线性/贝塞尔曲线路径
- **视觉效果**：
  - 尺寸变化：飘动过程中微小的缩放动画
  - 透明度变化：接近消失时透明度逐渐降低
  - 旋转效果：轻微的旋转增加动感

### 4.4. 用户体验与无障碍设计

*   **零失败机制**：游戏没有时间限制、生命值、分数或"Game Over"概念。任何操作都会得到正面反馈。
*   **持续鼓励**：每隔一段时间（如成功互动10次），播放一句鼓励性语音，如"好棒！"、"泡泡真漂亮！"。
*   **家长控制区**：
    *   设置入口需**长按（超过1.5秒）** 才能进入，防止幼儿误触。
    *   设置内可开关背景音乐、音效。
    *   明确标注"退出游戏"按钮。

#### 4.4.1 鼓励系统详细设计
- **触发条件**：连续成功互动次数、游戏时长、首次体验等
- **鼓励内容**：
  - 语音鼓励："太棒了！"、"真厉害！"、"好漂亮的泡泡！"
  - 视觉鼓励：屏幕闪烁彩色光效、动物做出开心动作
  - 特殊效果：偶尔出现彩虹泡泡或特大泡泡

#### 4.4.2 无障碍特性
- **大按钮设计**：所有可点击元素最小尺寸不小于44px
- **高对比度**：确保色弱幼儿也能清晰识别
- **触控优化**：支持不精准的触控操作
- **视觉引导**：重要操作区域有明显的视觉提示

## 5. 技术需求

### 5.1 平台规格
*   **平台类型**：Web应用（Progressive Web App）
*   **发布渠道**：网页版，支持浏览器直接访问
*   **离线支持**：通过Service Worker实现离线缓存

### 5.2 性能要求
*   **帧率**：目标帧率60 FPS，最低不低于30 FPS
*   **响应时间**：触控响应延迟不超过100ms
*   **内存占用**：浏览器内存占用不超过150MB
*   **加载时间**：首次加载时间不超过5秒，后续访问不超过2秒

### 5.3 浏览器兼容性
*   **桌面浏览器**：
    - Chrome 80+ (推荐)
    - Safari 13+
    - Firefox 75+
    - Edge 80+
*   **移动浏览器**：
    - iOS Safari 13+
    - Android Chrome 80+
    - Samsung Internet 12+
*   **微信生态**：
    - 微信内置浏览器（X5内核）
    - QQ浏览器
    - 支持微信分享和收藏
*   **核心API支持**：Canvas 2D、Web Audio API、Touch Events、Service Worker

### 5.4 移动端与微信适配
*   **屏幕方向**：
    - 主要支持横屏模式，提供最佳游戏体验
    - 竖屏时显示"请横屏游戏"提示界面
    - 自动检测屏幕旋转，动态调整布局
*   **微信内浏览器优化**：
    - 兼容微信X5内核的特殊性
    - 支持微信分享功能，生成精美分享卡片
    - 处理微信的全屏限制和安全策略
*   **触控体验**：
    - 触控区域放大，适合小手指操作
    - 防误触设计，避免意外退出
    - 支持多点触控，可同时生成多个泡泡
*   **设备适配**：
    - 手机：375×667 到 414×896（iPhone系列）
    - 平板：768×1024 到 1024×1366（iPad系列）
    - 安卓设备：覆盖主流分辨率

### 5.5 安全性要求
*   **内容安全**：纯前端应用，无广告或第三方链接
*   **数据保护**：不收集任何用户个人信息
*   **本地运行**：所有资源本地缓存，支持离线游戏
*   **CSP策略**：实施内容安全策略防止XSS攻击

## 6. 界面与视觉设计规范

### 6.1 整体设计风格
*   **风格**：2D手绘卡通风格，线条圆润，色彩明亮柔和
*   **色彩规范**：
    - 主色调：温暖的橙色系 (#FF8C42)
    - 辅助色：柔和的蓝色 (#6FAADB)、绿色 (#8BC34A)、粉色 (#F8BBD9)
    - 背景色：每个场景有独特的色彩主题

### 6.2 布局规范
*   **布局结构**：
    *   **顶部（5%）**：极简，仅有一个（需长按的）设置图标
    *   **主游戏区（85%）**：用于显示场景和互动
    *   **底部（10%）**：动物选择栏，图标大且间距充足，便于幼儿准确点击

### 6.3 UI组件规范
*   **按钮设计**：圆角矩形，最小点击区域44×44px
*   **图标设计**：简洁明了，使用通用符号，避免文字
*   **字体选择**：使用圆润、友好的字体，字号不小于16px
*   **动画效果**：所有动画（动物、泡泡）均应流畅、柔和、略带卡通弹性，避免生硬切换

### 6.4 资源规格
*   **图片格式**：PNG（透明背景）、JPG（背景图）
*   **分辨率**：提供@1x、@2x、@3x多倍图
*   **文件大小**：单个资源文件不超过2MB

## 7. 音效与音乐需求

### 7.1 背景音乐
*   **音乐风格**：每个场景有专属的、轻柔舒缓的循环背景音乐
    - 阳光草地：轻快的钢琴曲，节奏欢快但不躁动
    - 海底世界：空灵的八音盒音乐，营造宁静氛围
    - 夜晚星空：温柔的弦乐，带有梦幻色彩
*   **音频规格**：44.1kHz采样率，128kbps压缩率，OGG/MP3格式

### 7.2 交互音效
*   **音效分类**：
    - 泡泡生成音效（9种，对应9个角色）
    - 泡泡破裂音效（9种特色音效）
    - 界面操作音效（点击、切换等）
    - 鼓励语音（多个变化版本）
*   **音效特点**：清晰、可爱、不刺耳，符合幼儿听觉特点

### 7.3 语音需求
*   **语音风格**：使用亲切、温暖的童声或女性声音录制鼓励性语句
*   **语音内容**：
    - "真棒！"、"好厉害！"、"好漂亮的泡泡！"
    - "继续加油！"、"你做得很好！"、"太有趣了！"
*   **音频质量**：清晰无杂音，音量适中

## 8. 数据需求

### 8.1 数据存储策略
*   **存储原则**：完全无数据存储，每次访问都是全新体验
*   **会话数据**：仅在单次游戏会话中维护临时状态
*   **无持久化**：不保存用户偏好设置、游戏进度或任何个人数据

### 8.2 会话管理
*   **临时状态**：
    - 当前选择的场景和角色
    - 本次会话的互动计数（用于触发鼓励）
    - 音效和音乐的开关状态
*   **重置机制**：页面刷新或重新访问时所有状态重置为默认值

### 8.3 隐私保护
*   **零数据收集**：不收集、存储、传输任何用户数据
*   **纯客户端**：所有逻辑在浏览器端运行，无服务器交互
*   **GDPR合规**：符合最严格的隐私保护标准

## 9. 开发技术栈

### 9.1 核心技术
*   **前端框架**：原生HTML5 + JavaScript ES6+
*   **渲染技术**：HTML5 Canvas 2D API
*   **动画系统**：
    - GSAP (GreenSock Animation Platform) - 主要动画库
    - CSS3 Animations - 简单的UI动画
*   **音频处理**：Web Audio API + HTML5 Audio标签
*   **触控处理**：Touch Events API + Pointer Events API

### 9.2 开发工具链
*   **构建工具**：
    - Vite - 现代化的构建工具，支持热重载
    - Rollup - 生产环境打包
*   **代码优化**：
    - Terser - JavaScript压缩
    - ImageOptim - 图片资源优化
    - PurgeCSS - CSS优化
*   **PWA支持**：
    - Workbox - Service Worker管理
    - Web App Manifest - 应用配置

### 9.3 资源管理
*   **图片格式**：WebP (主要) + PNG (兼容)
*   **音频格式**：WebM/OGG (主要) + MP3 (兼容)
*   **字体**：Web Fonts (Google Fonts或自托管)
*   **资源加载**：预加载策略 + 懒加载优化

### 9.4 版本控制与部署
*   **版本控制**：Git + GitHub
*   **CI/CD**：GitHub Actions
*   **部署平台**：
    - GitHub Pages (免费选项)
    - Netlify (推荐，支持PWA)
    - Vercel (备选)

## 10. 项目里程碑

### 10.1 开发阶段
| 阶段 | 里程碑 | 预估时间 | 主要内容 |
| :--- | :--- | :--- | :--- |
| **阶段一** | 项目初始化 | 3-5天 | Vite项目搭建、Canvas基础框架、资源加载器 |
| **阶段二** | 核心游戏逻辑 | 1-2周 | 场景系统、角色管理、泡泡生成和交互 |
| **阶段三** | 动画与视觉效果 | 1-2周 | GSAP动画集成、粒子效果、视觉反馈系统 |
| **阶段四** | 音频系统 | 3-5天 | Web Audio API集成、音效管理、背景音乐 |
| **阶段五** | UI与响应式 | 3-5天 | 界面适配、响应式布局、触控优化 |
| **阶段六** | PWA与优化 | 3-5天 | Service Worker、性能优化、兼容性测试 |
| **阶段七** | 测试与部署 | 2-3天 | 最终测试、部署配置、上线发布 |

### 10.2 测试阶段
*   **功能测试**：所有交互功能正常运行
*   **性能测试**：在目标设备上达到性能要求
*   **用户测试**：邀请目标年龄段幼儿进行真实测试
*   **安全测试**：确保无安全隐患，符合儿童应用标准

## 11. 风险评估与应对

### 11.1 技术风险
*   **性能风险**：大量Canvas动画可能导致低端设备卡顿
    - 应对：帧率监控，动态降级渲染质量，对象池管理
*   **兼容性风险**：不同浏览器对Web API支持差异
    - 应对：polyfill兼容性处理，功能检测，优雅降级
*   **移动端适配**：触控精度和屏幕尺寸适配挑战
    - 应对：响应式设计，触控区域优化，多设备测试

### 11.2 用户体验风险
*   **操作复杂性**：界面或交互对幼儿过于复杂
    - 应对：持续的用户测试和界面简化
*   **内容适宜性**：音效或视觉内容不适合目标年龄段
    - 应对：专业的儿童心理学顾问审核

## 12. 成功指标

### 12.1 用户体验指标
*   **游戏时长**：平均单次游戏时长≥5分钟
*   **页面访问**：页面跳出率<30%（用户停留时间>1分钟）
*   **错误率**：JavaScript错误率<1%

### 12.2 技术性能指标
*   **加载性能**：首屏加载时间<3秒
*   **运行性能**：帧率稳定在30+fps
*   **响应性能**：触控响应时间<100ms
*   **浏览器兼容**：支持95%的目标浏览器正常运行

### 12.3 Web专项指标
*   **PWA评分**：Lighthouse PWA评分>90分
*   **性能评分**：Lighthouse Performance评分>85分
*   **可访问性**：Lighthouse Accessibility评分>90分

## 13. Web应用特殊考虑

### 13.1 PWA功能
*   **离线访问**：通过Service Worker缓存所有游戏资源
*   **添加到主屏**：支持"添加到主屏幕"功能，像原生应用一样启动
*   **全屏体验**：支持全屏模式，隐藏浏览器地址栏
*   **响应式图标**：提供多种尺寸的应用图标

### 13.2 Web性能优化
*   **资源压缩**：所有静态资源启用Gzip/Brotli压缩
*   **CDN加速**：静态资源通过CDN分发
*   **懒加载**：音频和图片资源按需加载
*   **预加载策略**：关键资源预加载，优化首屏体验

### 13.3 微信分享与SEO优化
*   **微信分享卡片**：
    - 精美的游戏截图作为分享封面
    - 吸引人的标题："宝宝泡泡乐园 - 让小朋友爱上的泡泡游戏"
    - 简洁描述："专为2-4岁宝宝设计，安全无广告，横屏体验更佳"
    - 自定义分享图标和链接预览
*   **社交媒体优化**：
    - Open Graph标签支持各平台分享
    - Twitter Card支持
    - QQ空间、微博等平台兼容
*   **SEO基础**：
    - 完整的meta信息和结构化数据
    - 友好的URL结构
    - 快速加载和移动端优化

### 13.4 监控与分析
*   **错误监控**：集成Sentry等错误追踪工具
*   **性能监控**：Real User Monitoring (RUM)
*   **用户行为**：无侵入性的基础统计（符合隐私要求）
*   **A/B测试**：支持小范围功能测试

---

**文档版本**：1.0  
**最后更新**：2025-09-28  
**文档状态**：待审核
