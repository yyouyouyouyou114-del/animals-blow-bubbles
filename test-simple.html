<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ‹è¯•é¡µé¢</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #87CEEB 0%, #98FB98 100%);
            font-family: Arial, sans-serif;
        }
        #gameCanvas {
            border: 2px solid #333;
            background: white;
            display: block;
            margin: 20px auto;
        }
    </style>
</head>
<body>
    <h1>æ¸¸æˆæµ‹è¯•é¡µé¢</h1>
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    
    <script type="module">
        console.log('ğŸ” å¼€å§‹æµ‹è¯•...');
        
        try {
            // æµ‹è¯•åŸºæœ¬çš„CanvasåŠŸèƒ½
            const canvas = document.getElementById('gameCanvas');
            const ctx = canvas.getContext('2d');
            
            // ç»˜åˆ¶æµ‹è¯•å†…å®¹
            ctx.fillStyle = '#FF8C42';
            ctx.fillRect(50, 50, 100, 100);
            ctx.fillStyle = '#333';
            ctx.font = '24px Arial';
            ctx.fillText('Canvas å·¥ä½œæ­£å¸¸ï¼', 200, 100);
            
            console.log('âœ… Canvas åŸºç¡€åŠŸèƒ½æ­£å¸¸');
            
            // æµ‹è¯•æ¨¡å—å¯¼å…¥
            const { Game } = await import('./src/core/Game.js');
            console.log('âœ… Game ç±»å¯¼å…¥æˆåŠŸ');
            
            // å°è¯•åˆ›å»ºæ¸¸æˆå®ä¾‹
            const game = new Game(canvas);
            console.log('âœ… Game å®ä¾‹åˆ›å»ºæˆåŠŸ');
            
            // å°è¯•åˆå§‹åŒ–
            await game.init();
            console.log('âœ… Game åˆå§‹åŒ–æˆåŠŸ');
            
            // å¯åŠ¨æ¸¸æˆ
            game.start();
            console.log('âœ… æ¸¸æˆå¯åŠ¨æˆåŠŸ');
            
        } catch (error) {
            console.error('âŒ æµ‹è¯•å¤±è´¥:', error);
            document.body.innerHTML += `<div style="color: red; margin: 20px; padding: 20px; border: 2px solid red;">
                <h2>é”™è¯¯ä¿¡æ¯ï¼š</h2>
                <pre>${error.stack || error.message}</pre>
            </div>`;
        }
    </script>
</body>
</html>
